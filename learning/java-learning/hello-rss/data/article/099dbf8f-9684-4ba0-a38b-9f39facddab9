<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-949I3I584KY/UMaNtqPezOI/AAAAAAAAAD4/O7scdpB4sic/s1600/image001.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="223" src="http://2.bp.blogspot.com/-949I3I584KY/UMaNtqPezOI/AAAAAAAAAD4/O7scdpB4sic/s320/image001.png" width="320" /></a></div>
<br />
Customizations can be identified using the Functional Administrator responsibility, yet it is not practical if trying to apply complex filters or wanting to take a look at the details for analysis purpose.<br />
Based on what Oracle provides on the front-end and the backend API available (jdr_utils) a query can be constructed to identify specific customizations and then the API used to retrieve the details.<br />
<br />
The jdr_utils has one procedure to list customizations, which gives a clue on how to identify them and is the basis to construct the query (lines 19-22). Turns out that the identified customizations can include some seeded ones, for which lines 24-27 will take care of them as per a query available on note 1292611.1 on Metalink.<br />
If we are interested on particular modules we can use a restriction based on the document path (line 23).<br />
Additionally, as users can also customize search result views, their customizations will be listed and can be identified by the custom_level value being 'user'. Those can also be excluded from the query after verifying that they are only about arranging and sorting the results, yet it is advisable to do an initial verification first as this can help on telling if a user has customization privileges beyond that.<br />
On the results provided:<br />
<ul>
<li>base_path. Path of the document being customized</li>
<li>custom_path. Path of the customization</li>
<li>custom_level. Level at which the customization is done: site, org, responsibility, function, user</li>
<li>custom_level_value. Identifies the org id, responsibility id, function name or user id </li>
<li>is_active. Flag indicating if the personalization is enabled</li>
</ul>
<div>
Line 23 is used on the example to filter only for certain application modules based on their path on $JAVA_TOP. Remove it to see all, or modify to meet your specific needs.</div>
<div>
<br /></div>
<pre class="textmate-source solarized_dark_"><span class="linenum">    1</span> <span class="source source_oracle"><span class="comment comment_line comment_line_double-dash">--</span>
<span class="linenum">    2</span> <span class="comment comment_line comment_line_double-dash">-- Query listing customized pages, level and active status</span>
<span class="linenum">    3</span> <span class="comment comment_line comment_line_double-dash">--</span>
<span class="linenum">    4</span> <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">select</span> <span class="variable variable_other">att.</span>att_value base_path
<span class="linenum">    5</span>      <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="variable variable_other">jdr_mds_internal.</span>getDocumentName<span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">pat.</span>path_docid <span class="keyword keyword_operator keyword_operator_oracle">)</span> custom_path
<span class="linenum">    6</span>      <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="support support_function support_function_oracle">regexp_replace</span><span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">jdr_mds_internal.</span>getDocumentName<span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">pat.</span>path_docid <span class="keyword keyword_operator keyword_operator_oracle">),</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'<span class="keyword keyword_operator keyword_operator_oracle">.</span>*<span class="keyword keyword_operator keyword_operator_oracle">/</span>customizations<span class="keyword keyword_operator keyword_operator_oracle">/</span>([[<span class="keyword keyword_operator keyword_operator_oracle">:</span>alpha<span class="keyword keyword_operator keyword_operator_oracle">:</span>]]*)<span class="keyword keyword_operator keyword_operator_oracle">/.</span>*'</span><span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'\1'</span> <span class="keyword keyword_operator keyword_operator_oracle">)</span> custom_level
<span class="linenum">    7</span>      <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="support support_function support_function_oracle">decode</span><span class="keyword keyword_operator keyword_operator_oracle">(</span>
<span class="linenum">    8</span>            <span class="support support_function support_function_oracle">regexp_replace</span><span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">jdr_mds_internal.</span>getDocumentName<span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">pat.</span>path_docid <span class="keyword keyword_operator keyword_operator_oracle">),</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'<span class="keyword keyword_operator keyword_operator_oracle">.</span>*<span class="keyword keyword_operator keyword_operator_oracle">/</span>customizations<span class="keyword keyword_operator keyword_operator_oracle">/</span>([[<span class="keyword keyword_operator keyword_operator_oracle">:</span>alpha<span class="keyword keyword_operator keyword_operator_oracle">:</span>]]*)<span class="keyword keyword_operator keyword_operator_oracle">/.</span>*'</span><span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'\1'</span> <span class="keyword keyword_operator keyword_operator_oracle">)</span>
<span class="linenum">    9</span>          <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'site'</span><span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'SITE'</span>
<span class="linenum">   10</span>          <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="support support_function support_function_oracle">regexp_replace</span><span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">jdr_mds_internal.</span>getDocumentName<span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">pat.</span>path_docid <span class="keyword keyword_operator keyword_operator_oracle">),</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'<span class="keyword keyword_operator keyword_operator_oracle">.</span>*<span class="keyword keyword_operator keyword_operator_oracle">/</span>customizations<span class="keyword keyword_operator keyword_operator_oracle">/</span>([[<span class="keyword keyword_operator keyword_operator_oracle">:</span>alpha<span class="keyword keyword_operator keyword_operator_oracle">:</span>]]*)<span class="keyword keyword_operator keyword_operator_oracle">/</span>([0-9A-Za-z_]*)<span class="keyword keyword_operator keyword_operator_oracle">/.</span>*'</span><span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'\2'</span> <span class="keyword keyword_operator keyword_operator_oracle">)))</span> custom_level_value
<span class="linenum">   11</span>      <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="support support_function support_function_oracle">nvl</span><span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">select</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'N'</span>
<span class="linenum">   12</span>            <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">from</span> jdr_attributes cat 
<span class="linenum">   13</span>           <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">where</span> <span class="variable variable_other">cat.</span>att_comp_docid <span class="keyword keyword_operator keyword_operator_oracle">=</span> <span class="variable variable_other">pat.</span>path_docid
<span class="linenum">   14</span>             <span class="keyword keyword_operator keyword_operator_oracle">and</span> <span class="variable variable_other">cat.</span>att_name <span class="keyword keyword_operator keyword_operator_oracle">=</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'MDSActiveDoc'</span>
<span class="linenum">   15</span>             <span class="keyword keyword_operator keyword_operator_oracle">and</span> <span class="variable variable_other">cat.</span>att_value <span class="keyword keyword_operator keyword_operator_oracle">=</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'false'</span> <span class="keyword keyword_operator keyword_operator_oracle">),</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'Y'</span> <span class="keyword keyword_operator keyword_operator_oracle">)</span> is_active         
<span class="linenum">   16</span>      <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="variable variable_other">pat.</span><span class="constant constant_language constant_language_oracle constant_language_oracle_apps">created_by</span>
<span class="linenum">   17</span>      <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="variable variable_other">pat.</span><span class="constant constant_language constant_language_oracle constant_language_oracle_apps">creation_date</span>
<span class="linenum">   18</span>      <span class="keyword keyword_operator keyword_operator_oracle">,</span> <span class="variable variable_other">pat.</span><span class="constant constant_language constant_language_oracle constant_language_oracle_apps">last_update_login</span>     
<span class="linenum">   19</span>   <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">from</span> jdr_paths      pat <span class="keyword keyword_operator keyword_operator_oracle">join</span> 
<span class="linenum">   20</span>        jdr_attributes att <span class="keyword keyword_operator keyword_operator_oracle">on</span> <span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">pat.</span>path_docid   <span class="keyword keyword_operator keyword_operator_oracle">=</span> <span class="variable variable_other">att.</span>att_comp_docid <span class="keyword keyword_operator keyword_operator_oracle">)</span>
<span class="linenum">   21</span>  <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">where</span> att_comp_seq <span class="keyword keyword_operator keyword_operator_oracle">=</span> <span class="constant constant_numeric constant_numeric_oracle">0</span>              
<span class="linenum">   22</span>    <span class="keyword keyword_operator keyword_operator_oracle">and</span> att_name     <span class="keyword keyword_operator keyword_operator_oracle">=</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'customizes'</span>
<span class="linenum">   23</span>    <span class="keyword keyword_operator keyword_operator_oracle">and</span> <span class="support support_function support_function_oracle">regexp_like</span><span class="keyword keyword_operator keyword_operator_oracle">(</span> <span class="variable variable_other">jdr_mds_internal.</span>getDocumentName<span class="keyword keyword_operator keyword_operator_oracle">(</span>path_docid<span class="keyword keyword_operator keyword_operator_oracle">),</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'apps<span class="keyword keyword_operator keyword_operator_oracle">/</span>(ap|po|icx|fnd)<span class="keyword keyword_operator keyword_operator_oracle">/</span>'</span> <span class="keyword keyword_operator keyword_operator_oracle">)</span>
<span class="linenum">   24</span>    <span class="keyword keyword_operator keyword_operator_oracle">and</span> <span class="keyword keyword_operator keyword_operator_oracle">not</span> <span class="keyword keyword_operator keyword_operator_oracle">exists(</span> <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">select</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'x'</span> 
<span class="linenum">   25</span>                      <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">from</span> jdr_attributes bat 
<span class="linenum">   26</span>                     <span class="keyword keyword_other keyword_other_dml keyword_other_dml_oracle">where</span> <span class="variable variable_other">bat.</span>att_comp_docid <span class="keyword keyword_operator keyword_operator_oracle">=</span> <span class="variable variable_other">pat.</span>path_docid 
<span class="linenum">   27</span>                       <span class="keyword keyword_operator keyword_operator_oracle">and</span> att_name <span class="keyword keyword_operator keyword_operator_oracle">=</span> <span class="string string_quoted string_quoted_single string_quoted_single_oracle">'developerMode'</span> <span class="keyword keyword_operator keyword_operator_oracle">)</span>
<span class="linenum">   28</span> <span class="keyword keyword_operator keyword_operator_oracle">/</span>
</span><span class="linenum">   29</span> </pre>
<br />
Once the query is showing the results desired, use it within a pl/sql block to loop through it and call jdr_utils.printdocument() passing custom_path as a parameter in order to show an xml detailing what the customization is.
<script type="text/javascript">SyntaxHighlighter.highlight();</script>