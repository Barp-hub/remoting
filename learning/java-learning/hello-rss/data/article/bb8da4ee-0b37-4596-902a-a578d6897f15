After learning how to create date-effective objects (i.e., <a href="http://www.adftips.com/2010/12/adf-model-creating-date-effective-eo.html">Creating Date-Effective EO</a>, <a href="http://www.adftips.com/2010/12/adf-model-creating-date-effective.html">Creating Date-Effective Associations and VOs</a>), now we'll see how to implement date-effective search.<br /><br /><b>Sample Use Case:</b><br />Please go through <a href="http://www.adftips.com/2010/12/learning-basics-of-date-effectivity-in.html">my previous post</a> to see the sample example use cases of performing date-effective operations on 'Job' object. So, here the requirement is to search for a job effective as of the given date. <a href="http://adftips.googlecode.com/files/DateEffective_Search.zip">Sample application illustrating this example can be downloaded from here</a>. Before running the example, you need to create the required tables in DB. <a href="http://adftips.googlecode.com/files/de_sql.sql">The sql script for these table can be downloaded from here</a>.<br /><br /><b>Implementation Steps:</b><br />1. Create the date-effective EO (JobEO) and date-effective VO (JobVO). Marking the JobVO will create a new transient attribute called <b>SysEffectiveDate </b>in the VO attributes.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_ex9GjJ9fvbk/TReR1TERjKI/AAAAAAAAAVY/xHMgG1NCsWk/s1600/1.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="213" src="http://1.bp.blogspot.com/_ex9GjJ9fvbk/TReR1TERjKI/AAAAAAAAAVY/xHMgG1NCsWk/s320/1.JPG" width="320" /></a></div><br />2. Create a view criteria 'JobSearch' and add the required attributes as query criteria items on which you want to perform the search. As a best practice, use bind variables for all the view criteria items(attributes).<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TReR4yEDyzI/AAAAAAAAAVc/beGkOueZLyw/s1600/2.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TReR4yEDyzI/AAAAAAAAAVc/beGkOueZLyw/s320/2.JPG" width="318" /></a></div><br />3. In addition to those attributes, add SysEffectiveDate in the query attributes and bind it to the bind variable <b>SysEffectiveDateBindVar</b> of type <b>Date</b>(if this bind variable is not already exist, create a new bind variable <b>with same name</b> and associate it to SysEffectiveDate). Here, the bind variable name that binds SysEffectiveDate <b>should be</b>&nbsp;<b>SysEffectiveDateBindVar </b>as this is the bind variable name generated at runtime by ADF for SysEffectiveDate<b>. </b>Otherwise, it'll throw run time exception.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TReR6VzZgdI/AAAAAAAAAVg/P7Np7D39NPM/s1600/3.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TReR6VzZgdI/AAAAAAAAAVg/P7Np7D39NPM/s320/3.JPG" width="320" /></a></div><br />4. Now, you're done with model part of defining view criteria with SysEffectiveDate. Now, implement search and search results in a jsff with this view criteria.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_ex9GjJ9fvbk/TReR7cuIeNI/AAAAAAAAAVk/ZEWnTmpB_QA/s1600/4.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="214" src="http://3.bp.blogspot.com/_ex9GjJ9fvbk/TReR7cuIeNI/AAAAAAAAAVk/ZEWnTmpB_QA/s320/4.JPG" style="cursor: move;" width="320" /></a></div><br />5. To test the functionality, create multiple job records with different date-effective updates and try to search for a required job records specifying the Effective Date in the search criteria. You'll get the job records which match the query criteria as of the given effective date. Here are the sample screen shots.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TRowu0RViUI/AAAAAAAAAVo/MvlwqIyw0cQ/s1600/8.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="105" src="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TRowu0RViUI/AAAAAAAAAVo/MvlwqIyw0cQ/s320/8.JPG" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TRowwVninvI/AAAAAAAAAVs/7WnnSXAmWXw/s1600/5.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="96" src="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TRowwVninvI/AAAAAAAAAVs/7WnnSXAmWXw/s320/5.JPG" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_ex9GjJ9fvbk/TRowy4JsAvI/AAAAAAAAAV0/gDNuOnqPi_k/s1600/7.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="102" src="http://4.bp.blogspot.com/_ex9GjJ9fvbk/TRowy4JsAvI/AAAAAAAAAV0/gDNuOnqPi_k/s320/7.JPG" width="320" /></a></div><br />6. If the effective date (SysEffectiveDate) is not provided, it'll return the rows effective as of today (i.e.,the system date on which search is made). Screen shot below.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TRowxrgftdI/AAAAAAAAAVw/ds7oZor6sSE/s1600/6.JPG" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="103" src="http://2.bp.blogspot.com/_ex9GjJ9fvbk/TRowxrgftdI/AAAAAAAAAVw/ds7oZor6sSE/s320/6.JPG" width="320" /></a></div><br />Enjoy!!!