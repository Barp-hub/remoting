<div dir="ltr" style="text-align: left;" trbidi="on">DECLARE<br />&nbsp;&nbsp; l_hdr_rec&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inv_move_order_pub.trohdr_rec_type<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; := inv_move_order_pub.g_miss_trohdr_rec;<br />&nbsp;&nbsp; l_line_tbl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inv_move_order_pub.trolin_tbl_type<br /><a name='more'></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; := inv_move_order_pub.g_miss_trolin_tbl;<br />&nbsp;&nbsp; x_return_status&nbsp;&nbsp; VARCHAR2 (1);<br />&nbsp;&nbsp; x_msg_count&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NUMBER;<br />&nbsp;&nbsp; x_msg_data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARCHAR2 (4000);<br />&nbsp;&nbsp; x_hdr_rec&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inv_move_order_pub.trohdr_rec_type<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; := inv_move_order_pub.g_miss_trohdr_rec;<br />&nbsp;&nbsp; x_hdr_val_rec&nbsp;&nbsp;&nbsp;&nbsp; inv_move_order_pub.trohdr_val_rec_type;<br />&nbsp;&nbsp; x_line_tbl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inv_move_order_pub.trolin_tbl_type;<br />&nbsp;&nbsp; x_line_val_tbl&nbsp;&nbsp;&nbsp; inv_move_order_pub.trolin_val_tbl_type;<br />&nbsp;&nbsp; v_msg_index_out&nbsp;&nbsp; NUMBER;<br />&nbsp;&nbsp; l_rsr_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inv_reservation_global.mtl_reservation_tbl_type;<br />BEGIN<br />&nbsp;&nbsp; l_line_tbl.DELETE;<br />&nbsp;&nbsp; x_line_tbl.DELETE;<br />&nbsp;&nbsp; mo_global.set_policy_context ('S', 101);<br />&nbsp;&nbsp; inv_globals.set_org_id (101);<br />&nbsp;&nbsp; fnd_global.apps_initialize (1695, 20634, 401);<br />&nbsp;&nbsp; -------------------------------------------------------------<br />&nbsp;&nbsp; l_hdr_rec.date_required := SYSDATE;<br />&nbsp;&nbsp; l_hdr_rec.header_status := inv_globals.g_to_status_preapproved;<br />&nbsp;&nbsp; l_hdr_rec.organization_id := 103;<br />&nbsp;&nbsp; l_hdr_rec.status_date := SYSDATE;<br />&nbsp;&nbsp; l_hdr_rec.transaction_type_id := inv_globals.g_type_transfer_order_issue;<br />&nbsp;&nbsp; l_hdr_rec.move_order_type := inv_globals.g_move_order_requisition;<br />&nbsp;&nbsp; l_hdr_rec.db_flag := fnd_api.g_true;<br />&nbsp;&nbsp; l_hdr_rec.operation := inv_globals.g_opr_create;<br />&nbsp;&nbsp; l_hdr_rec.description := 'Mah Test Move Order';<br />&nbsp;&nbsp; l_hdr_rec.to_account_id := 12831;<br />&nbsp;&nbsp; l_hdr_rec.from_subinventory_code := 'Products';<br />&nbsp;&nbsp; -------------------------------------------------------------<br />&nbsp;&nbsp; l_line_tbl (1).date_required := SYSDATE;<br />&nbsp;&nbsp; l_line_tbl (1).inventory_item_id := 93;<br />&nbsp;&nbsp; l_line_tbl (1).line_id := fnd_api.g_miss_num;<br />&nbsp;&nbsp; l_line_tbl (1).line_number := 1;<br />&nbsp;&nbsp; l_line_tbl (1).line_status := inv_globals.g_to_status_preapproved;<br />&nbsp;&nbsp; l_line_tbl (1).transaction_type_id :=<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inv_globals.g_type_transfer_order_issue;<br />&nbsp;&nbsp; l_line_tbl (1).organization_id := 103;<br />&nbsp;&nbsp; l_line_tbl (1).quantity := 1;<br />&nbsp;&nbsp; l_line_tbl (1).status_date := SYSDATE;<br />&nbsp;&nbsp; l_line_tbl (1).uom_code := 'Ea';<br />&nbsp;&nbsp; l_line_tbl (1).db_flag := fnd_api.g_true;<br />&nbsp;&nbsp; l_line_tbl (1).operation := inv_globals.g_opr_create;<br />&nbsp;&nbsp; l_line_tbl (1).from_subinventory_code := 'Products';<br />&nbsp;&nbsp; l_line_tbl (1).to_account_id := 12831;<br />--&nbsp;&nbsp; l_line_tbl (1).lot_number := 'A01';&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --If the item is lot controlled<br />--&nbsp;&nbsp; l_line_tbl (1).serial_number_start := 'A01-0031';<br />&nbsp;&nbsp; --If the item is serial number controlled<br />--&nbsp;&nbsp; l_line_tbl (1).serial_number_end := 'A01-0031';<br />&nbsp;&nbsp; --If the item is serial number controlled<br />&nbsp;&nbsp; -------------------------------------------------------------<br />&nbsp;&nbsp; inv_move_order_pub.process_move_order (p_api_version_number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; 1.0,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p_init_msg_list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; fnd_api.g_false,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p_return_values&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; fnd_api.g_false,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p_commit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; fnd_api.g_false,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x_return_status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; x_return_status,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x_msg_count&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; x_msg_count,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x_msg_data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; x_msg_data,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p_trohdr_rec&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; l_hdr_rec,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p_trolin_tbl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; l_line_tbl,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x_trohdr_rec&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; x_hdr_rec,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x_trohdr_val_rec&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; x_hdr_val_rec,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x_trolin_tbl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; x_line_tbl,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x_trolin_val_tbl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; x_line_val_tbl<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<br />&nbsp;&nbsp; DBMS_OUTPUT.put_line ('Return Status is :' || x_return_status);<br />&nbsp;&nbsp; DBMS_OUTPUT.put_line ('Message Count is :' || x_msg_count);<br />&nbsp;&nbsp; DBMS_OUTPUT.put_line ('Move Order Number is :' || x_hdr_rec.request_number);<br />&nbsp;&nbsp; DBMS_OUTPUT.put_line ('Number of Lines Created are :' || x_line_tbl.COUNT);<br />&nbsp;&nbsp; IF x_return_status = 'S'<br />&nbsp;&nbsp; THEN<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; COMMIT;<br />&nbsp;&nbsp; ELSE<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ROLLBACK;<br />&nbsp;&nbsp; END IF;<br />&nbsp;&nbsp; IF x_msg_count &gt; 0<br />&nbsp;&nbsp; THEN<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FOR v_index IN 1 .. x_msg_count<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LOOP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fnd_msg_pub.get (p_msg_index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; v_index,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p_encoded&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; 'F',<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p_data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; x_msg_data,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p_msg_index_out&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; v_msg_index_out<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x_msg_data := SUBSTR (x_msg_data, 1, 200);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DBMS_OUTPUT.put_line (x_msg_data);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DBMS_OUTPUT.put_line<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ('============================================================');<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; END LOOP;<br />&nbsp;&nbsp; END IF;<br />END;</div>