<img src="webkit-fake-url://7c0d20ba-e0c1-41af-861e-174145b1bf13/image.tiff" /><br />
<br />
While working on a new language syntax for SQL*Plus commands on Sublime Text, there is a need to match partial keywords as allowed e.g.<br />
<br />
<span style="background-color: white; color: #222222; font-family: 'Helvetica Neue', 'Neue Helvetica', Arial, sans-serif; font-size: 14px;">DISC[ONNECT]</span><br />
<span style="background-color: white; color: #222222; font-family: 'Helvetica Neue', 'Neue Helvetica', Arial, sans-serif; font-size: 14px;"><br /></span>
<span style="background-color: white; color: #222222; font-family: 'Helvetica Neue', 'Neue Helvetica', Arial, sans-serif; font-size: 14px;">which allows to type either of the following and they&nbsp;</span><span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">will be correctly interpreted by SQL*Plus:</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;"><br /></span></span>
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">DISC</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">DISCO</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">DISCON</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">DISCONN</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">DISCONNE</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">DISCONNEC</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">DISTONNECT</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;"><br /></span></span>
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">The first attempt was to match the whole command, but that would not highlight partial, valid commands. Alternation was the&nbsp;second option, but that seemed odd and likely wasteful as the engine would keep trying matches. What I settled with initially was to have a fixed root and&nbsp;alternation of the optional characters.</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;"><br /></span></span>
<span style="color: #222222; font-family: 'Helvetica Neue', 'Neue Helvetica', Arial, sans-serif; font-size: 14px;">(?i)\bdisc(onnect|onnec|onne|onn|on|o)?\b</span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;"><br /></span></span>
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">After some research an testing, atomic grouping will do the trick on avoiding the engine to keep looking for matches in the alternating group:</span></span><br />
<blockquote class="tr_bq">
<span style="background-color: white; font-family: Arial, helvetica, sans-serif; font-size: 14px; text-align: justify;">An atomic group is a group that, when the regex engine exits from it, automatically throws away all backtracking positions remembered by any tokens inside the group. Atomic groups are non-capturing. The syntax is&nbsp;</span><tt class="regex" style="background-color: #fff4e8; border-bottom-style: solid; border-color: rgb(255, 102, 0); border-top-style: solid; border-width: 1px; font-family: 'Andale Mono', 'Lucida Console', monospace; font-size: 14px; padding-bottom: 1px; padding-top: 1px; text-align: justify; white-space: nowrap;">(?&gt;group)</tt><span style="background-color: white; font-family: Arial, helvetica, sans-serif; font-size: 14px; text-align: justify;">.</span></blockquote>
<blockquote class="tr_bq">
&nbsp;http://www.regular-expressions.info/atomic.html</blockquote>
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">The matching string:</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;"><br /></span></span>
<span style="color: #222222; font-family: 'Helvetica Neue', 'Neue Helvetica', Arial, sans-serif; font-size: 14px;">(?i)\bdisc(?&gt;onnect|onnec|onne|onn|on|o)?\b</span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;"><br /></span></span>
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">What&nbsp;this does:</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;"><br /></span></span>
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">(?i) - Ignores case sensitivity</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">\b - word boundaries, to ensure it matches an independent word</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">disc - Matches the shortest valid command shortcut</span></span><br />
<span style="color: #222222; font-family: Helvetica Neue, Neue Helvetica, Arial, sans-serif;"><span style="font-size: 14px;">(?&gt; - Use an atomic group, from longest to shortest, stopping alternation as long as there is a match</span></span><br />
<span style="background-color: white; color: #222222; font-family: 'Helvetica Neue', 'Neue Helvetica', Arial, sans-serif; font-size: 14px;">)? - Make atomic group optional, so DISC by itself can be a valid match</span><br />
<span style="background-color: white; color: #222222; font-family: 'Helvetica Neue', 'Neue Helvetica', Arial, sans-serif; font-size: 14px;"><br /></span>