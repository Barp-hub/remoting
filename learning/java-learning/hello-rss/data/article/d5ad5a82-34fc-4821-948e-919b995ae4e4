There are situations when we require to perform some action on selecting a row in a single-select table. For such cases, we need to remove the default selectionListener and specify our own selectionListener method from the backing bean and write our logic within the method.<br /><br />The generated default selectionListener for the table would be like <b>selectionListener="#{bindings.EmpDeptVO.collectionModel.makeCurrent}"</b>. This will actually make the selected row as current row. As we're removing the&nbsp;default&nbsp;selectionListener, we need to call the same default selection listener method in the custom selectionListener method. Then only we can get handle to the selected row.<br /><br /><b>Sample Use Case:</b><br />Suppose I have employees table and when I select a row in the table, immediately I need to show a popup with the selected employee name. Sample application can be downloaded from <a href="http://adftips.googlecode.com/files/SelectionListenerExample.zip">here</a>.<br /><br /><b>Implementation Steps:</b><br />1. Drop the VO as a table in the jsf page. Remove the default selectionListener and specify your own backing bean method for the selectionListener.<br /><div id="iframeDivd6423e58-57e4-4e8b-b628-c85e893625b4" style="display: none; margin: 0px;"><iframe frameborder="0" id="iframed6423e58-57e4-4e8b-b628-c85e893625b4" src="http://www.blogtrog.com/code.aspx?id=d6423e58-57e4-4e8b-b628-c85e893625b4" style="border: 1px solid #e0e0e0; height: 250px; margin: 0px; width: 400px;"></iframe></div><div id="noIframeDivd6423e58-57e4-4e8b-b628-c85e893625b4" style="display: block; margin: 0px;"><pre><div><span style="color: black;"> </span><span style="color: blue;">&lt;</span><span style="color: maroon;">af:table </span><span style="color: red;">value</span><span style="color: blue;">="#{bindings.EmpDeptVO.collectionModel}"</span><span style="color: red;"> var</span><span style="color: blue;">="row"</span><span style="color: red;"><br />                  rows</span><span style="color: blue;">="#{bindings.EmpDeptVO.rangeSize}"</span><span style="color: red;"><br />                  emptyText</span><span style="color: blue;">="#{bindings.EmpDeptVO.viewable ? 'No data to display.' : 'Access Denied.'}"</span><span style="color: red;"><br />                  fetchSize</span><span style="color: blue;">="#{bindings.EmpDeptVO.rangeSize}"</span><span style="color: red;"><br />                  rowBandingInterval</span><span style="color: blue;">="0"</span><span style="color: red;"><br />                  rowSelection</span><span style="color: blue;">="single"</span><span style="color: red;"> id</span><span style="color: blue;">="t1"</span><span style="color: red;"><br />                  partialTriggers</span><span style="color: blue;">=":::qryId1 ::ctb1 ::commandToolbarButton1"</span><span style="color: red;"><br />                  columnStretching</span><span style="color: blue;">="column:c1"</span><span style="color: red;"><br />                  styleClass</span><span style="color: blue;">="AFStretchWidth"</span><span style="color: red;"> columnSelection</span><span style="color: blue;">="multiple"</span><span style="color: red;"><br />                  first</span><span style="color: blue;">="0"</span><span style="color: red;"> contentDelivery</span><span style="color: blue;">="immediate"</span><span style="color: red;"> autoHeightRows</span><span style="color: blue;">="10"</span><span style="color: red;"><br />                  binding</span><span style="color: blue;">="#{pageFlowScope.ExampleBean.searchResultsTable}"</span><span style="color: red;"><br />                  selectionListener</span><span style="color: blue;">="#{pageFlowScope.ExampleBean.rowSelected}"</span><span style="color: blue;">&gt;</span></div></pre></div><script language="javascript" src="http://www.blogtrog.com/scripts/bt_code.js" type="text/javascript"></script><script language="javascript" type="text/javascript">bt_code_init('d6423e58-57e4-4e8b-b628-c85e893625b4'); </script><br />2. In the custom selectionListener method, call the default selectionListener method which will set the selected row as the current row. We can use ADFUtil.invokeEL() to invoke the same default EL expression method and the selectionEvent as the parameter. Sample code below.<br /><div id="iframeDiv9f0c0bd5-80e9-4614-81a7-9921022760a1" style="display: none; margin: 0px;"><iframe frameborder="0" id="iframe9f0c0bd5-80e9-4614-81a7-9921022760a1" src="http://www.blogtrog.com/code.aspx?id=9f0c0bd5-80e9-4614-81a7-9921022760a1" style="border: 1px solid #e0e0e0; height: 100px; margin: 0px; width: 400px;"></iframe></div><div id="noIframeDiv9f0c0bd5-80e9-4614-81a7-9921022760a1" style="display: block; margin: 0px;"><pre><div><span style="color: black;">        ADFUtil.invokeEL(</span><span style="color: black;">"</span><span style="color: black;">#{bindings.EmpDeptVO.collectionModel.makeCurrent}</span><span style="color: black;">"</span><span style="color: black;">,<br />                         </span><span style="color: blue;">new</span><span style="color: black;"> Class[] { SelectionEvent.</span><span style="color: blue;">class</span><span style="color: black;"> },<br />                         </span><span style="color: blue;">new</span><span style="color: black;"> Object[] { selectionEvent });</span></div></pre></div><script language="javascript" src="http://www.blogtrog.com/scripts/bt_code.js" type="text/javascript"></script><script language="javascript" type="text/javascript">bt_code_init('9f0c0bd5-80e9-4614-81a7-9921022760a1'); </script><br />3. Now, the selected row is set as current row and you can get the current row reference by using the below EL. Now, you can get all attributes of the selected row by using the above reference.<br /><div id="iframeDiv56c2cf9c-f09f-402c-8c8d-2126d200e1e1" style="display: none; margin: 0px;"><iframe frameborder="0" id="iframe56c2cf9c-f09f-402c-8c8d-2126d200e1e1" src="http://www.blogtrog.com/code.aspx?id=56c2cf9c-f09f-402c-8c8d-2126d200e1e1" style="border: 1px solid #e0e0e0; height: 90px; margin: 0px; width: 400px;"></iframe></div><div id="noIframeDiv56c2cf9c-f09f-402c-8c8d-2126d200e1e1" style="display: block; margin: 0px;"><pre><div><span style="color: black;">Row selectedRow </span><span style="color: black;">=</span><span style="color: black;"><br />   (Row)ADFUtil.evaluateEL(</span><span style="color: black;">"</span><span style="color: black;">#{bindings.EmpDeptVOIterator.currentRow}</span><span style="color: black;">"</span><span style="color: black;">);</span></div></pre></div><script language="javascript" src="http://www.blogtrog.com/scripts/bt_code.js" type="text/javascript"></script><script language="javascript" type="text/javascript">bt_code_init('56c2cf9c-f09f-402c-8c8d-2126d200e1e1'); </script><br />4. Get the attribute value of Ename from the selected row and set it to a pageFlowScope variable say #{pageFlowScope.empName}. Add a popup in the jsf page that displays the #{pageFlowScope.empName} as the selected employee. Write your logic to invoke the popup in the same selectionListener method.<br /><br />Popup code in the jsf page:<br /><div id="iframeDivce861abf-c30b-4a58-be28-169aa915a21b" style="display: none; margin: 0px;"><iframe frameborder="0" id="iframece861abf-c30b-4a58-be28-169aa915a21b" src="http://www.blogtrog.com/code.aspx?id=ce861abf-c30b-4a58-be28-169aa915a21b" style="border: 1px solid #e0e0e0; height: 150px; margin: 0px; width: 400px;"></iframe></div><div id="noIframeDivce861abf-c30b-4a58-be28-169aa915a21b" style="display: block; margin: 0px;"><pre><div><span style="color: blue;">&lt;</span><span style="color: maroon;">af:popup </span><span style="color: red;">id</span><span style="color: blue;">="p1"</span><span style="color: red;"> binding</span><span style="color: blue;">="#{pageFlowScope.ExampleBean.displayNamePopup}"</span><span style="color: blue;">&gt;</span><span style="color: black;"><br />      </span><span style="color: blue;">&lt;</span><span style="color: maroon;">af:dialog </span><span style="color: red;">id</span><span style="color: blue;">="d1"</span><span style="color: red;"> type</span><span style="color: blue;">="ok"</span><span style="color: red;"> title</span><span style="color: blue;">="Alert"</span><span style="color: blue;">&gt;</span><span style="color: black;"><br />        </span><span style="color: blue;">&lt;</span><span style="color: maroon;">af:outputText </span><span style="color: red;">value</span><span style="color: blue;">="You have selected Employee: #{pageFlowScope.empName}"</span><span style="color: red;"><br />                       id</span><span style="color: blue;">="ot4"</span><span style="color: blue;">/&gt;</span><span style="color: black;"><br />      </span><span style="color: blue;">&lt;/</span><span style="color: maroon;">af:dialog</span><span style="color: blue;">&gt;</span><span style="color: black;"><br /></span><span style="color: blue;">&lt;/</span><span style="color: maroon;">af:popup</span><span style="color: blue;">&gt;</span></div></pre></div><script language="javascript" src="http://www.blogtrog.com/scripts/bt_code.js" type="text/javascript"></script><script language="javascript" type="text/javascript">bt_code_init('ce861abf-c30b-4a58-be28-169aa915a21b'); </script><br /><b>Backing bean containing the selectionListener method and popup binding:</b><br /><div id='iframeDiv2ff7338b-8d04-4ea3-9ea0-2ab591f1f910' style='display:none;margin:0px;'><iframe id='iframe2ff7338b-8d04-4ea3-9ea0-2ab591f1f910' src='http://www.blogtrog.com/code.aspx?id=2ff7338b-8d04-4ea3-9ea0-2ab591f1f910' style='width: 400px; height: 400px; border: 1px solid #e0e0e0;margin:0px;' frameborder='0'></iframe></div><div id='noIframeDiv2ff7338b-8d04-4ea3-9ea0-2ab591f1f910' style='display:block;margin:0px;'><pre><div><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">class</span><span style="color: #000000;"> ExampleBean {<br />    </span><span style="color: #0000FF;">private</span><span style="color: #000000;"> RichPopup displayNamePopup;<br /><br />    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> rowSelected(SelectionEvent selectionEvent) {<br />        ADFUtil.invokeEL(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">#{bindings.EmpDeptVO.collectionModel.makeCurrent}</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">,<br />                         </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Class[] { SelectionEvent.</span><span style="color: #0000FF;">class</span><span style="color: #000000;"> },<br />                         </span><span style="color: #0000FF;">new</span><span style="color: #000000;"> Object[] { selectionEvent });<br />        Row selectedRow </span><span style="color: #000000;">=</span><span style="color: #000000;"><br />            (Row)ADFUtil.evaluateEL(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">#{bindings.EmpDeptVOIterator.currentRow}</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">);<br />        ADFUtil.setEL(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">#{pageFlowScope.empName}</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">,<br />                      selectedRow.getAttribute(</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">Ename</span><span style="color: #000000;">&quot;</span><span style="color: #000000;">));<br />        PopupUtil.invokePopup(displayNamePopup.getClientId(FacesContext.getCurrentInstance()));<br />        ;<br />    }<br /><br />    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> </span><span style="color: #0000FF;">void</span><span style="color: #000000;"> setDisplayNamePopup(RichPopup displayNamePopup) {<br />        </span><span style="color: #0000FF;">this</span><span style="color: #000000;">.displayNamePopup </span><span style="color: #000000;">=</span><span style="color: #000000;"> displayNamePopup;<br />    }<br /><br />    </span><span style="color: #0000FF;">public</span><span style="color: #000000;"> RichPopup getDisplayNamePopup() {<br />        </span><span style="color: #0000FF;">return</span><span style="color: #000000;"> displayNamePopup;<br />    }<br />}<br /></span></div></pre></div><script language='javascript' src='http://www.blogtrog.com/scripts/bt_code.js' type='text/javascript'></script><script language='javascript' type='text/javascript'>bt_code_init('2ff7338b-8d04-4ea3-9ea0-2ab591f1f910');</script><br />That's it. When the row is&nbsp;selected, the selectionListener method in the bean is called, current row is set to selected row, stores the current row's Ename attribute to pageFlowScope variable 'empName', invoke the popup programatically, and the same pageFlowScope variable will be displayed in the popup as selected employee name.<br /><br /><b>Sample screen shots:</b><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_ex9GjJ9fvbk/TNy9FP3xwnI/AAAAAAAAAQI/l-B2cY6RkeU/s1600/1.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="52" src="http://4.bp.blogspot.com/_ex9GjJ9fvbk/TNy9FP3xwnI/AAAAAAAAAQI/l-B2cY6RkeU/s320/1.JPG" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_ex9GjJ9fvbk/TNy9GAj8PsI/AAAAAAAAAQM/iEV3W_dTlwc/s1600/2.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="53" src="http://4.bp.blogspot.com/_ex9GjJ9fvbk/TNy9GAj8PsI/AAAAAAAAAQM/iEV3W_dTlwc/s320/2.JPG" width="320" /></a></div>