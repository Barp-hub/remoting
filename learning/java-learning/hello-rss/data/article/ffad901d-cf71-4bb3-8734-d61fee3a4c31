<div dir="ltr" style="text-align: left;" trbidi="on"><br />SELECT&nbsp;&nbsp; dt.serial_number, dt.transaction_date date_in,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hd.transaction_quantity, dt.inventory_item_id, transaction_cost,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'SERIAL' type_flag, dt.transaction_id, st.description<br />&nbsp;&nbsp;&nbsp; FROM mtl_material_transactions hd,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mtl_unit_transactions_all_v dt,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mtl_system_items st<br /><a name='more'></a>&nbsp;&nbsp; WHERE hd.transaction_id = dt.transaction_id<br />&nbsp;&nbsp;&nbsp;&nbsp; AND hd.organization_id = st.organization_id<br />&nbsp;&nbsp;&nbsp;&nbsp; AND hd.inventory_item_id = st.inventory_item_id<br />&nbsp;&nbsp;&nbsp;&nbsp; AND receipt_issue_type = 2<br />&nbsp;&nbsp;&nbsp;&nbsp; AND dt.organization_id = :v_org_id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --Mandatory Paramter<br />&nbsp;&nbsp;&nbsp;&nbsp; AND (hd.subinventory_code = :v_sub_inv OR :v_sub_inv IS NULL)<br />&nbsp;&nbsp;&nbsp;&nbsp; AND (&nbsp;&nbsp; TO_DATE (TO_CHAR (dt.transaction_date, 'dd-mon-rrrr'),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'dd-mon-rrrr'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) BETWEEN :form_date AND :TO_DATE<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OR :form_date IS NULL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OR :TO_DATE IS NULL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )<br />&nbsp;&nbsp;&nbsp;&nbsp; AND (&nbsp;&nbsp; dt.serial_number BETWEEN :serial_from AND :serial_to<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OR :serial_from IS NULL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OR :serial_to IS NULL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )<br />UNION<br />SELECT&nbsp;&nbsp; dl.lot_number, dl.transaction_date date_in, dl.transaction_quantity,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dl.inventory_item_id, hd.transaction_cost, 'LOT' type_flag,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dl.transaction_id, st.description<br />&nbsp;&nbsp;&nbsp; FROM mtl_material_transactions hd,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mtl_transaction_lot_val_v dl,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mtl_system_items st<br />&nbsp;&nbsp; WHERE hd.transaction_id = dl.transaction_id<br />&nbsp;&nbsp;&nbsp;&nbsp; AND hd.organization_id = st.organization_id<br />&nbsp;&nbsp;&nbsp;&nbsp; AND hd.inventory_item_id = st.inventory_item_id<br />&nbsp;&nbsp;&nbsp;&nbsp; AND hd.organization_id = :v_org_id<br />&nbsp;&nbsp;&nbsp;&nbsp; AND (&nbsp;&nbsp; TO_DATE (TO_CHAR (dl.transaction_date, 'dd-mon-rrrr'),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'dd-mon-rrrr'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ) BETWEEN :form_date AND :TO_DATE<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OR :form_date IS NULL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OR :TO_DATE IS NULL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )<br />ORDER BY 6, 1</div>