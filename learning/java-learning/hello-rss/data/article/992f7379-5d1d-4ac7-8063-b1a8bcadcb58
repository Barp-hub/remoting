<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-mweWoyp0leU/UJ84dHitvKI/AAAAAAAAACQ/X9mrRhZIpEY/s1600/153594c4goidl-bf9ewp-picture-1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="137" src="http://3.bp.blogspot.com/-mweWoyp0leU/UJ84dHitvKI/AAAAAAAAACQ/X9mrRhZIpEY/s320/153594c4goidl-bf9ewp-picture-1.png" width="320" /></a></div>
&nbsp; <br />
<span style="font-family: Verdana,sans-serif;">A guide on the way to implement Folders functionality in Custom Forms for Oracle Applications. This is available for standard forms but no official documentation exists on how to achieve it for newly developed forms.</span><br />
<br />
<h2>
<span style="font-family: Verdana,sans-serif;">Folder Functionality in Oracle Applications</span></h2>
<h2>
<span style="font-family: Verdana,sans-serif;"></span></h2>
<span style="font-family: Verdana,sans-serif;">Folders allows for a user to include/exclude/resize/move/rename/order fields in a multi-row block, such that it is more suitable for specific user needs, also being able to save and load those definitions for later use. Many standard forms include this functionality and is a handy tool that users can easily manipulate. As they are used to it, when new forms are developed, they expect to have the tool also available. To our bad luck, the Developer's Guide says nothing about it, nor have I found a white paper or official guide. What follows is an explanation on the steps we need to follow to include Folders functionality in custom Forms. <br />
</span><br />
<blockquote class="tr_bq">
<i><span style="font-family: Verdana,sans-serif;">Please have in mind the following, copied from the Oracle Applications DeveloperÂ´s Guide:</span><br />
<span style="font-family: Verdana,sans-serif;">APPFLDR contains all of the packages that enable folder blocks.</span><br />
<span style="font-family: Verdana,sans-serif;">Warning: Oracle Applications does not support use of the</span><br />
<span style="font-family: Verdana,sans-serif;">APPFLDR library for custom development.</span></i><br />
<span style="font-family: Verdana,sans-serif;"></span></blockquote>
<br />
<br />
<h3>
<span style="font-family: Verdana,sans-serif;">Acknowledgments</span></h3>
<h3>
<span style="font-family: Verdana,sans-serif;"></span></h3>
<span style="font-family: Verdana,sans-serif;">The information was gathered from Oracle Metalink, mainly from the post "Enabling Folder Functionality in Custom Forms " on Oracle Forums by Subhash Chand. Some research was done along Balbina Silva and Camerino Tesillos for a client's requirement. Validation of the steps was done by Ivan Ortega aka "Chilpacoco". The use of a fixed section on folders was done on my own, and is included in this article.<br />
<br />
Feedback for specific versions of 11i would be great to have a list of what releases this works on. By now, I've used it&nbsp; on 11.5.10.2 and 11.5.9, with the only difference being that on the way to use the VERIFY functionality.<br />
<br />
Corrections and enhancements on grammar/spelling/phrasing is welcomed as I'm not a native english speaker.<br />
</span><br />
<h3>
<span style="font-family: Verdana,sans-serif;">Sample data used</span></h3>
<h3>
<span style="font-family: Verdana,sans-serif;"></span></h3>
<span style="font-family: Verdana,sans-serif;"><br />
A new form was created based on the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">HR_LOOKUPS</span> view to validate the steps. It's up and running and can be downloaded from <a href="http://www.amox.mx/home/files/XXAMX_HRLKFLDR.fmb?attredirects=0&amp;d=1" rel="nofollow" target="_blank">here</a>. All the images from this point were taken from the process of building that form. Originally only Lookup Type, Lookup Code, Meaning and Description are displayed, 10 rows at a time, with the last two fields on a stacked canvas. All of this within a frame.</span><br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-UiYTjBVwzNE/UJ85DQ-7P1I/AAAAAAAAACY/l0emjpBRXNs/s1600/153594c4goidl-bf9ewp-picture-2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="183" src="http://3.bp.blogspot.com/-UiYTjBVwzNE/UJ85DQ-7P1I/AAAAAAAAACY/l0emjpBRXNs/s320/153594c4goidl-bf9ewp-picture-2.png" width="320" /></a></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-vV8DH7JEwjI/UJ85J-dvgEI/AAAAAAAAACg/W4dOkJMOKng/s1600/153594c4goidl-bf9ewp-picture-3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="163" src="http://4.bp.blogspot.com/-vV8DH7JEwjI/UJ85J-dvgEI/AAAAAAAAACg/W4dOkJMOKng/s320/153594c4goidl-bf9ewp-picture-3.png" width="320" /></a></div>
<br />
<h2>
<span style="font-family: Verdana,sans-serif;">Set up the Form</span></h2>
<span style="font-family: Verdana,sans-serif;">Some setup is needed to enable folders and their proper functionality, it will be outlined in the following sections.<br />
</span><br />
<h3>
<span style="font-family: Verdana,sans-serif;">Including Appropriate Libraries</span></h3>
<span style="font-family: Verdana,sans-serif;">In order to have the code needed for this functionality, we must include the following library from <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$AU_TOP/resource</span> (remember to remove directory when attaching):</span><br />
<span style="font-family: Verdana,sans-serif;"><br />
</span> <br />
<ul>
<li><span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">APPFLDR.pll</span></span></li>
</ul>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-v4MFG1d_fOU/UJ85T9u8RcI/AAAAAAAAACo/spKr1zIk6-Q/s1600/153594c4goidl-bf9ewp-picture-4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="271" src="http://4.bp.blogspot.com/-v4MFG1d_fOU/UJ85T9u8RcI/AAAAAAAAACo/spKr1zIk6-Q/s320/153594c4goidl-bf9ewp-picture-4.png" width="320" /></a></div>
<span style="font-family: Verdana,sans-serif;">If You are curious enough, and have time to do it, it's a good idea to browse trough the packages included, as it can be also useful to learn on layout modification on run time.<br />
</span><br />
<h3>
<span style="font-family: Verdana,sans-serif;">Reference folder object group</span></h3>
<span style="font-family: Verdana,sans-serif;">To have access to objects required by folders, subclass the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">STANDARD_FOLDER</span> object group from the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">APPSTAND.fmb</span> form, located in <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$AU_TOP/forms/US</span>. Open the form, locate the object group, drag and drop it to your form, choosing subclass in the dialog that shows up.</span><br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-ocF7gUYat_0/UJ85dnBsjNI/AAAAAAAAACw/J58LL3aVqqw/s1600/153594c4goidl-bf9ewp-picture-5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://3.bp.blogspot.com/-ocF7gUYat_0/UJ85dnBsjNI/AAAAAAAAACw/J58LL3aVqqw/s320/153594c4goidl-bf9ewp-picture-5.png" width="209" /></a></div>
<br />
<div class="separator" style="clear: both; text-align: center;">
</div>
<br />
<h3>
<span style="font-family: Verdana,sans-serif;">Create parameters</span></h3>
<h3>
<span style="font-family: Verdana,sans-serif;"></span></h3>
<span style="font-family: Verdana,sans-serif;"><br />
A parameter of type number with initial value 2 must be created. The name should be <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&lt;BLOCKNAME&gt;_RECORD_COUNT</span>, with <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">BLOCKNAME</span> being the name of the base block. For the sample form, the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">HR_LOOKUPS_RECORD_COUNT</span> parameter was created.<br />
</span><br />
<h3>
<span style="font-family: Verdana,sans-serif;">Write code in appropriate triggers</span></h3>
<h3>
<span style="font-family: Verdana,sans-serif;"></span></h3>
<span style="font-family: Verdana,sans-serif;"><br />
Akin to Flexfields functionality some code needs to be added to certain triggers, both at form and block level. </span><br />
<br />
<br />
<h4>
<span style="font-family: Verdana,sans-serif;">WHEN-NEW-FORM-INSTANCE</span></h4>
<span style="font-family: Verdana,sans-serif;"><br />
To define the blocks and canvas to be used for the folder, this functionality must be enabled on form launch, so we must include the following code in the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">WHEN-NEW-FORM-INSTANCE</span> form level trigger:<br />
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br />
</span></span><br />
<blockquote>
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">app_folder.def_folder_block(</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; object_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; 'Folder Test'</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; , folder_block_name&nbsp; =&gt; 'FOLDER_BLOCK'</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; , prompt_block_name&nbsp; =&gt; 'PROMPT_BLOCK'</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; , folder_canvas_name =&gt; 'STACKED_CANVAS'</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; , folder_window_name =&gt; 'WINDOW'</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; , dis_functions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; 'UPPER, ENABLED, lower, disabled' </span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; , tab_canvas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; null</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; , fixed_canvas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt; 'STACKED_CANVAS_FIXED ) ;</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">app_folder.event( 'INSTANTIATE' ) ;</span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">app_folder.event( 'VERIFY' ) ;</span></span><br />
<span style="font-family: Verdana,sans-serif;"></span></blockquote>
<span style="font-family: Verdana,sans-serif;"><br />
For the first procedure, the name of the parameters are self-explanatory. We should modify the values passed with the names of the objects that we define in the following steps. Special attention for the last two parameters as they are not included in the standard call on the trigger that comes with the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">TEMPLATE.fmb</span> form. <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">tab_canvas</span> could be used when the folder is to be shown in such type of canvas, and as I haven't done such a thing it's not used in this article; perhaps in a new one I can play around with this. The <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">fixed_canvas</span> parameter is what has to be used when a section on the folder won't allow modification of it's layout, as is the case on the sample presented in this post.<br />
<br />
The second procedure call can be left out as no difference was found on using or commenting it for the sample form. According to comments in the library, it's <i>"Usually done when the block must be painted correctly, but is not the first block on the window"</i>.<br />
<br />
<br />
The third procedure call should be left until the form works fine, as it provides validation and informs what needs to be adjusted as we open the form for testing. Once the form is ready, we should comment that line.<br />
<br />
Note: For the verify functionality, on most recent versions of Oracle Applications, a message will appear indicating that You must set the value for the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">GLOBAL.FOLDER_VERIFY_MODE</span> variable to <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">TRUE</span> via examine. You must do it to get the information on the adjustments needed on the form for the folders to work. When using examine You will get a message indicating that the value for <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">GLOBAL.FOLDER_VERIFY_MODE</span> can't be obtained, acknowledge the message, put the value and select OK. This will generate a text file with the diagnostics on the Folders implementation when opening the form.</span><br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-n0-JaVIBobU/UJ85rBTCVMI/AAAAAAAAAC4/huaoExrSHzM/s1600/153594c4goidl-bf9ewp-picture-7.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="86" src="http://4.bp.blogspot.com/-n0-JaVIBobU/UJ85rBTCVMI/AAAAAAAAAC4/huaoExrSHzM/s320/153594c4goidl-bf9ewp-picture-7.png" width="320" /></a></div>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-fKTLArtmtrY/UJ85tHre98I/AAAAAAAAADA/PukSbGiEL2M/s1600/153594c4goidl-bf9ewp-picture-8.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="253" src="http://1.bp.blogspot.com/-fKTLArtmtrY/UJ85tHre98I/AAAAAAAAADA/PukSbGiEL2M/s320/153594c4goidl-bf9ewp-picture-8.png" width="320" /></a></div>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-62aNBsrJPOA/UJ85vU4HtcI/AAAAAAAAADI/sgAsbHR87gs/s1600/153594c4goidl-bf9ewp-picture-9.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="106" src="http://4.bp.blogspot.com/-62aNBsrJPOA/UJ85vU4HtcI/AAAAAAAAADI/sgAsbHR87gs/s320/153594c4goidl-bf9ewp-picture-9.png" width="320" /></a></div>
<br />
<br />
<h4>
<span style="font-family: Verdana,sans-serif;">KEY-CLRFRM</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">At form level:<br />
</span><br />
<blockquote>
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">app_folder.event( 'KEY-CLRFRM' ) ;</span><br />
<span style="font-family: Verdana,sans-serif;"></span></blockquote>
<span style="font-family: Verdana,sans-serif;"><br />
</span> <br />
<h4>
<span style="font-family: Verdana,sans-serif;">WHEN-WINDOW-RESIZED</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">At form level:<br />
</span><br />
<blockquote class="tr_bq">
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">if :system.event_window = 'FOLDER_WINDOW' then<br />
&nbsp; app_folder.event( 'WHEN-WINDOW-RESIZED' ) ;<br />
end if ;</span><br />
<span style="font-family: Verdana,sans-serif;"></span></blockquote>
<span style="font-family: Verdana,sans-serif;"><br />
</span> <br />
<h4>
<span style="font-family: Verdana,sans-serif;">FOLDER_ACTION</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">At form level, uncomment the following line, and delete or comment the preceding message:<br />
</span><br />
<blockquote>
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">app_folder.event( :global.folder_action ) ; </span><br />
<span style="font-family: Verdana,sans-serif;"></span></blockquote>
<span style="font-family: Verdana,sans-serif;"><br />
</span> <br />
<h4>
<span style="font-family: Verdana,sans-serif;">KEY-PREV-ITEM</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">Defined at block level, referencing the previously defined parameter, only use the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">if</span> when calling <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">app_folder.event( 'KEY-PREV-ITEM' ) ;</span> may not work ok:<br />
</span><br />
<blockquote class="tr_bq">
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">if (:parameter.&lt;blockname&gt;_record_count = 1) then <br />
&nbsp;&nbsp; previous_item; <br />
else <br />
&nbsp;&nbsp; app_folder.event( 'KEY-PREV-ITEM' ) ; <br />
end if; </span><br />
<span style="font-family: Verdana,sans-serif;"></span></blockquote>
<span style="font-family: Verdana,sans-serif;"><br />
</span> <br />
<h4>
<span style="font-family: Verdana,sans-serif;">KEY-NEXT-ITEM</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">Defined at block level, referencing the previously defined parameter, only use the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">if</span> when calling <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">app_folder.event( 'KEY-NEXT-ITEM' )</span> ; may not work ok:<br />
</span><br />
<blockquote class="tr_bq">
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">if ( :parameter.&lt;blockname&gt;_record_count = 1 ) then </span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; next_item ; </span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">else </span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; app_folder.event( 'KEY-NEXT-ITEM' ) ; </span></span><br />
<span style="font-family: Verdana,sans-serif;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">end if; </span></span><br />
<span style="font-family: Verdana,sans-serif;"></span></blockquote>
<span style="font-family: Verdana,sans-serif;"><br />
</span> <br />
<h3>
<span style="font-family: Verdana,sans-serif;">Other triggers</span></h3>
<h3>
<span style="font-family: Verdana,sans-serif;"></span></h3>
<span style="font-family: Verdana,sans-serif;">At block level, add the following line<br />
</span><br />
<blockquote>
<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">app_folder.event( 'EVENT' ) ; </span><br />
<span style="font-family: Verdana,sans-serif;"></span></blockquote>
<span style="font-family: Verdana,sans-serif;"><br />
To all of these triggers, changing 'EVENT' for the trigger name accordingly.<br />
</span><br />
<ul>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">WHEN-NEW-BLOCK-INSTANCE</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">WHEN-NEW-RECORD-INSTANCE -- obsolete</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">PRE-BLOCK</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">POST-BLOCK</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">PRE-QUERY</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">KEY-ENTQRY</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">KEY-EXEQRY</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">POST-QUERY</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">KEY-PRVREC</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">KEY-NXTREC</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">KEY-CLRREC</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">KEY-DELREC</span></li>
<li><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">KEY-CLRBLK</span></li>
</ul>
<span style="font-family: Verdana,sans-serif;"><br />
</span> <br />
<h2>
<span style="font-family: Verdana,sans-serif;">Modifying the form</span></h2>
<h2>
<span style="font-family: Verdana,sans-serif;"></span></h2>
<span style="font-family: Verdana,sans-serif;">Provided that we have already created a multi-row block in our form and that is presented in a canvas, this is what we must do to enable folders. We will use a stacked canvas to allow for horizontal scrolling of every possible field to be show. We should left context fields on content canvas, as standards suggest, later we'll see how to move those fields to a stacked canvas as requiered for a fixed area on a folder.<br />
</span><br />
<h3>
<span style="font-family: Verdana,sans-serif;">Canvases</span></h3>
<h3>
<span style="font-family: Verdana,sans-serif;"></span></h3>
<span style="font-family: Verdana,sans-serif;">We'll need at least one stacked canvas for folder functionality to work. Optionally we can use another stacked one to have a fixed section of the folder.<br />
</span><br />
<h4>
<span style="font-family: Verdana,sans-serif;">Content Canvas</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">This canvas won't need any modification.<br />
</span><br />
<h4>
<span style="font-family: Verdana,sans-serif;">Folder Canvas</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">A new stacked canvas with property class <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">CANVAS_STACKED</span> has to be created above the content canvas. It's viewport position should be at 0.2 <i>X</i> and 0.5 <i>Y</i> if all fields will be scrolled. If a fixed section will be used, <i>X</i> position needs to be adjusted to allow for fixed fields to be displayed. If the form has other blocks, <i>Y</i> position may need to be also adjusted.<br />
<br />
Allow for enough vertical space to show the horizontal scrollbar and enable it on its properties. Width only needs to be as big as the fields that we layout initially. At runtime, as fields are dinamically shown and hidden, canvas size will be adequately adjusted, also considering space for block vertical scrollbar if we use a fixed section.<br />
</span><br />
<h4>
<span style="font-family: Verdana,sans-serif;">Fixed Folder Canvas</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">If a fixed portion of a folder is required, a new stacked canvas will be created above content one and the previous existing stacked canvas. Property class must be <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">CANVAS_STACK_FIXED_FIELDS</span>. Define viewport size and position to the exact place that the fixed fields will be placed. Canvas size must be that of the fields displayed plus 0.2 to allow for the vertical scrollbar of the block to be included on it.<br />
<br />
At runtime the canvas viewport will be resized to the maximum windows width, minus 0.2.<br />
</span><br />
<h3>
<span style="font-family: Verdana,sans-serif;">Items</span></h3>
<h3>
<span style="font-family: Verdana,sans-serif;"></span></h3>
<span style="font-family: Verdana,sans-serif;">Certain considerations are required for fields to control whether You will allow to add them to the layout at runtime or not. Prompts have to be created as well as some control items.<br />
</span><br />
<h4>
<span style="font-family: Verdana,sans-serif;">Data Items</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">The items to show the information should be modified to the look and feel required by standards as we normally do, that is, using the adequate item type, property class, format mask,&nbsp; justification, etc. The prompt won't be taken from the Prompt property, so no modification is needed yet, except for the Check Box item type items, as it has to be removed given that by default it's displayed at item level and not above it.<br />
<br />
We don't need to accommodate all the items in the stacked canvas, as it will be done by code at runtime. We should only layout and arrange the order in the object navigator for the items that will appear by default. All other fields can be at 0 <i>X</i> position. <br />
<br />
<i>Y</i> position for all items that will be allowed to be added to the folder, must be at 0.25. Canvas property for items will be the stacked one for those that will be scrolled, and the fixed stacked one for the context fields. The displayed property has to be Yes for the items shown by default, all other fields should use No.<br />
<br />
On what fields can be added or not to the folder, that is controlled by the prompts, as we'll see next.<br />
<br />
Special case is the vertical scrollbar of the base block, as it has to be displayed at <i>Y</i> 0.25 on fixed stacked canvas if used or in content canvas if not. For fixed canvas, it can be arranged in design time at any X position as it will be rearranged on runtime to the right after all the movable fields. If at runtime you get a message about an invalid position and the scrollbar seems to be out of place, verity that the fixed canvas has enough space for the scrollbar and that will do it.<br />
</span><br />
<h4>
<span style="font-family: Verdana,sans-serif;">Prompt Items</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">As mentioned above, prompts are not taken from data items Prompt property, but from items that will be defined explicitely.<br />
<br />
A new block needs to be created to contain prompt items and some control items that we'll see next. It has to be a control block, and for every item allowed to be displayed we'll need to create a new Text Item item named equal to the data item. Property class must be <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">FOLDER_PROMPT_MULTIROW</span>, the prompt removed and specified in the Initial Value property instead. <i>Y</i> position must be 0 and the canvas the same of the base item, whether the stacked or fixed stacked one. Also for the width it must be the one defined for the base item, as the prompt will define the width of the field whenever it's shown. All prompts with displayed property Yes at design time will be displayed by default and arranged according to the order they appear on the object navigator.<br />
<br />
Usually You just copy those on the base block, remove the database info, make them text items and apply the property class. <br />
</span><br />
<h4>
<span style="font-family: Verdana,sans-serif;">Control items</span></h4>
<h4>
<span style="font-family: Verdana,sans-serif;"></span></h4>
<span style="font-family: Verdana,sans-serif;">Additionally we need to add control items for the folder, to allow for saving and loading definitions of arranged layouts we create. This items must be created as follows:</span><br />
<br />
<table style="width: 90%px;"><tbody>
<tr> <td width="10%"><span style="font-family: Verdana,sans-serif;"><b>Block</b></span></td> <td width="25%"><span style="font-family: Verdana,sans-serif;"><b>Name</b></span></td> <td width="15%"><span style="font-family: Verdana,sans-serif;"><b>Type</b></span></td> <td width="25%"><span style="font-family: Verdana,sans-serif;"><b>Property Class</b></span></td> <td width="10%"><span style="font-family: Verdana,sans-serif;"><b>Canvas</b></span></td> <td width="15%"><span style="font-family: Verdana,sans-serif;"><b>Other</b></span></td> </tr>
<tr> <td>Base</td> <td style="font-family: courier new,monospace;">[FOLDER_]SWITCHER</td> <td>Checkbox</td> <td style="font-family: courier new,monospace;">SWITCHER</td> <td>Content</td> <td>*</td> </tr>
<tr> <td>Prompt</td> <td style="font-family: courier new,monospace;">FOLDER_OPEN</td> <td>Push Button</td> <td style="font-family: courier new,monospace;">FOLDER_OPEN</td> <td>Content</td> <td>X: 0.2</td> </tr>
<tr> <td>Prompt</td> <td style="font-family: courier new,monospace;">FOLDER_DUMMY</td> <td>Text Item</td> <td style="font-family: courier new,monospace;">FOLDER_DUMMY</td> <td>Toolbar</td> <td><br /></td> </tr>
<tr> <td>Prompt</td> <td style="font-family: courier new,monospace;">FOLDER_TITLE</td> <td>Display Item</td> <td><span style="font-family: courier new,monospace;">DYNAMIC_TITLE</span></td> <td>Content</td> <td>X: 0.4</td> </tr>
<tr> <td>Prompt</td> <td style="font-family: courier new,monospace;">ORDER_BY1</td> <td>Push Button</td> <td style="font-family: courier new,monospace;">FOLDER_ORDERBY</td> <td>Stacked</td> <td><br /></td> </tr>
<tr> <td>Prompt</td> <td style="font-family: courier new,monospace;">ORDER_BY2</td> <td>Push Button</td> <td style="font-family: courier new,monospace;">FOLDER_ORDERBY</td> <td>Stacked</td> <td><br /></td> </tr>
<tr> <td>Prompt</td> <td style="font-family: courier new,monospace;">ORDER_BY3</td> <td>Push Button</td> <td style="font-family: courier new,monospace;">FOLDER_ORDERBY</td> <td>Stacked</td> <td><br /></td> </tr>
</tbody></table>
<br />
<span style="font-family: Verdana,sans-serif;"><i>Y</i> Position for those displayed (<span style="font-family: &quot;Courier New&quot;,Courier,monospace;">FOLDER_OPEN</span> and <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">FOLDER_TITLE</span>) depends on the layout. If only a block is shown it will be 0.25.</span><br />
<span style="font-family: Verdana,sans-serif;"><br /></span>
<span style="font-family: Verdana,sans-serif;">* For <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">[FOLDER_]SWITCHER</span>, it may or not be required, review what the verify folder functionality informs.</span><br />
<span style="font-family: Verdana,sans-serif;"><br /></span>
<br />
<h2>
<span style="font-family: Verdana,sans-serif;">Compile and Execute form</span></h2>
<span style="font-family: Verdana,sans-serif;"></span><br />
<span style="font-family: Verdana,sans-serif;">Even if it may not be ready, we can now execute the form, so we get the feedback on what needs to be adjusted. Folder functionality may be working, but not looking as good as we would have expected. As mentioned on the coding of the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">WHEN-NEW-FORM-INSTANCE</span> trigger, we have validation enabled, so we'll get messages on specific modifications we need to apply for folders to work correctly and also the arrangement of items can be seen. As the version I'm working on (11.5.10.2) requires the use of the profile instead of the code, it generated a file, which is shown below.</span><br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-MbmKWHiarP0/UJ85_J109bI/AAAAAAAAADQ/9pT0IUxsum8/s1600/153594c4goidl-bf9ewp-picture-10.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="162" src="http://2.bp.blogspot.com/-MbmKWHiarP0/UJ85_J109bI/AAAAAAAAADQ/9pT0IUxsum8/s320/153594c4goidl-bf9ewp-picture-10.png" width="320" /></a></div>
<br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span></span>
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">Current form: XXAMX_HRLKFLDR</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span></span>
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; Checking prompt block HR_LOOKUPS_PROMPT...</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; APPLICATION_ID is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.APPLICATION_ID must have a height of .25 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.APPLICATION_ID must be on a canvas.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; LAST_UPDATE_DATE is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.LAST_UPDATE_DATE must have a height of .25 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.LAST_UPDATE_DATE must be on a canvas.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; LAST_UPDATED_BY is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.LAST_UPDATED_BY must have a height of .25 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.LAST_UPDATED_BY must be on a canvas.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; ENABLED_FLAG is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; START_DATE_ACTIVE is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; END_DATE_ACTIVE is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; LAST_UPDATE_LOGIN is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.LAST_UPDATE_LOGIN must have a height of .25 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.LAST_UPDATE_LOGIN must be on a canvas.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; CREATED_BY is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.CREATED_BY must have a height of .25 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.CREATED_BY must be on a canvas.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; CREATION_DATE is in HR_LOOKUPS_PROMPT but on null canvas of HR_LOOKUPS.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.CREATION_DATE must have a height of .25 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.CREATION_DATE must be on a canvas.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.LOOKUP_TYPE must be at Y=0.0 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.LOOKUP_CODE must be at Y=0.0 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.FOLDER_TITLE should be 4 inches wide.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS_PROMPT.FOLDER_TITLE should be at X=0.4 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span></span>
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; Checking folder block HR_LOOKUPS...</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS.LOOKUP_TYPE must be at Y=.25 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp; HR_LOOKUPS.LOOKUP_CODE must be at Y=.25 inches.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span></span>
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp; Checking for other specific items...</span></span><br />
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></span></span>
<span style="font-size: x-small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">VERIFY: Completed for block HR_LOOKUPS.</span></span><br />
<br />
<h2>
<span style="font-family: Verdana,sans-serif;">Arrange Items</span></h2>
<span style="font-family: Verdana,sans-serif;"></span><br />
<span style="font-family: Verdana,sans-serif;">With the messages on adjustments needed, we must proceed to modify our layout, and engage in a modify-test cycle until everything works OK and no messages are obtained. Modifications for the sample form were:</span><br />
<span style="font-family: Verdana,sans-serif;"><br /></span>
<span style="font-family: Verdana,sans-serif;">Remove frame as it's not used in folders.</span><br />
<span style="font-family: Verdana,sans-serif;">Adjust folder open button and title <i>Y</i> position</span><br />
<span style="font-family: Verdana,sans-serif;">Play around with the base block scrollbar canvas and position</span><br />
<span style="font-family: Verdana,sans-serif;">Play around with the fixed portion of the folder</span><br />
<span style="font-family: Verdana,sans-serif;"><br /></span>
<br />
<h2>
<span style="font-family: Verdana,sans-serif;">To Do's</span></h2>
<span style="font-family: Verdana,sans-serif;"></span><br />
<span style="font-family: Verdana,sans-serif;">As folders now seem to be working ok, some interesting topics remain on how to do more with them.</span><br />
<span style="font-family: Verdana,sans-serif;"><br /></span>
<br />
<h3>
<span style="font-family: Verdana,sans-serif;">Automate Implementation</span></h3>
<span style="font-family: Verdana,sans-serif;">There's and Oracle Forms Developer API that allows interacting with an Oracle Forms module with either C or Java. It would be interesting to automate the process of implementing folders for a multi-row block, as it follows rules that can be reproduced copying items or modifying properties to certain values.</span><br />
<span style="font-family: Verdana,sans-serif;"><br /></span>
<br />
<h3>
<span style="font-family: Verdana,sans-serif;">Other Functionality</span></h3>
<span style="font-family: Verdana,sans-serif;">Also, if you are curious enough to look at the library code, You may find references to folders on form layouts, and up/down arrows for arranging items on the folder tools windows. That is certainly interesting but havenÂ´t seen it applied in a standard form. </span><br />
<br />
<br />
<br />
<script type="text/javascript">SyntaxHighlighter.highlight();</script>